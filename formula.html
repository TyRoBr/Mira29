<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Formule du Score MIRA 29</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <header>
    <div class="logos">
      <img src="images/CHU.png" alt="Logo CHU">
      <img src="images/UBO.png" alt="Logo UBO">
      <img src="images/LaTIM.png" alt="Logo LaTIM">
    </div>
    <h1>Formule du Score MIRA 29</h1>
  </header>

  <main>
    <div class="scalable-wrapper">
      <div class="container">
        <div class="box">
          <h2>Variables (unités)</h2>
          <ul>
            <li><strong>Low Flow</strong> : minutes</li>
            <li><strong>Nb CEE</strong> : nombre entier</li>
            <li><strong>Adrénaline</strong> : mg</li>
            <li><strong>Site arrêt</strong> : 0 = domicile, 1 = voie publique, 2 = lieu public</li>
          </ul>
        </div>

        <div class="box">
          <h3>Score Good</h3>
<pre>
exp(+0.28498 × LowFlow
 - 0.04929 × ⌊NbCEE⌋ × ⌈Adr⌉
 - 0.09701 × ⌊Adr⌋ × ⌊NbCEE⌋
 - 0.12861 × ⌊Adr⌋ × sin(NbCEE)
 - 0.06535 × ⌈Adr⌉ × sin(NbCEE)
 - 0.07650 × cos(Site) × |Site|
 - 0.05446 × cos(Site)²
 - 0.02686 × |Site|²
 + 0.16337 × ⌊NbCEE⌋
 - 0.68380 × ⌊Adr⌋
 + 0.46218 × ⌈Site⌉
 - 0.34747 × ⌈Adr⌉
 + 0.21661 × sin(NbCEE)
 - 0.34645 × cos(0.5874 × cos(Site) + 0.4126 × |Site|)
 + 0.32882 × |Site|
 + 0.83467 × trunc(-0.39285 × LowFlow))
</pre>
        </div>

        <div class="box">
          <h3>Score Bad</h3>
<pre>
exp(-0.28498 × LowFlow
 + 0.04929 × ⌊NbCEE⌋ × ⌈Adr⌉
 + 0.09701 × ⌊Adr⌋ × ⌊NbCEE⌋
 + 0.12861 × ⌊Adr⌋ × sin(NbCEE)
 + 0.06535 × ⌈Adr⌉ × sin(NbCEE)
 + 0.07650 × cos(Site) × |Site|
 + 0.05446 × cos(Site)²
 + 0.02686 × |Site|²
 - 0.16337 × ⌊NbCEE⌋
 + 0.68380 × ⌊Adr⌋
 - 0.46218 × ⌈Site⌉
 + 0.34747 × ⌈Adr⌉
 - 0.21661 × sin(NbCEE)
 + 0.34645 × cos(0.5874 × cos(Site) + 0.4126 × |Site|)
 - 0.32882 × |Site|
 - 0.83467 × trunc(-0.39285 × LowFlow))
</pre>
        </div>
      </div>

      <div class="container score-row">
        <div class="score-col">
          <h3>Score Total</h3>
          <p><strong>Score = Score Good / (Score Good + Score Bad)</strong></p>
        </div>
        <div class="score-col">
          <h3>Interprétation</h3>
          <p><strong>Cut-off :</strong> 0.35</p>
          <ul>
            <li><strong>CPC favorable</strong> (CPC 1-2) si Score &lt; 0.35</li>
            <li><strong>CPC défavorable</strong> (CPC 3-4-5) si Score ≥ 0.35</li>
          </ul>
        </div>
      </div>

      <a href="index.html" class="btn-calculate">← Calculer le score</a>
    </div>
  </main>

  <footer>
    Score MIRA - 2025 - Médecine Intensive Réanimation - CHU Brest
  </footer>

  <script>
    function resizeWrapper() {
      const wrapper = document.querySelector('.scalable-wrapper');
      if (!wrapper) return;

      const containerWidth = 1400;
      const containerHeight = 720;

      const scaleX = window.innerWidth / containerWidth;
      const scaleY = (window.innerHeight - (window.innerHeight * 0.15) - 50) / containerHeight;

      const scale = Math.min(scaleX, scaleY, 1);

      wrapper.style.transform = `scale(${scale})`;
    }

    window.addEventListener('resize', resizeWrapper);
    window.addEventListener('load', resizeWrapper);
  </script>
</body>
</html>
